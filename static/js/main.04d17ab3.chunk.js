(this.webpackJsonpnasa_app=this.webpackJsonpnasa_app||[]).push([[0],{36:function(e,t,n){e.exports=n(49)},41:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),s=n.n(c),o=(n(41),n(11)),i=n(8),u=n(14),l=function(e){return{type:"RELOAD_NEO_DATA",neoData:e}},m=[],d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEO_DATA":return[].concat(Object(u.a)(e),[Object(i.a)({},t.neoData)]).slice(-6);case"RELOAD_NEO_DATA":return Object(u.a)(e.map((function(e){return e.links.self===t.neoData.links.self?Object(i.a)({},t.neoData):e})));default:return e}},p=n(66),_=n(64),f=n(10),b=n(31),O=n(33),h={isLoading:!1,isLoaded:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!0});case"FINISH_LOADING":return Object(i.a)(Object(i.a)({},e),{},{isLoading:!1});default:return e}},E=function(e){return{type:"SET_ERROR_MESSAGE",errorMessage:e}},v={errorMessage:""},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR_MESSAGE":return Object(i.a)(Object(i.a)({},e),{},{errorMessage:t.errorMessage});default:return e}},N=n(15),D=n.n(N),y=n(6),x=(new Date).toISOString().slice(0,10).slice(0,8).concat("01"),k="http://api.nasa.gov/neo/rest/v1/feed?start_date=".concat(x,"&end_date=").concat(x,"&api_key=hsDSy2E5Oz9eUPxbvPuAnaAi8w3pIUCJtDiuhg1N");function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=/http:/.test(e)?e.replace("http","https"):e;return fetch(t).then((function(e){return e.json()})).catch((function(e){throw e}))}var M=D.a.mark(T),w=D.a.mark(I),S=(new Date).toISOString().slice(0,10);function T(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.e)("FETCH_NEO_DATA",I);case 2:case"end":return e.stop()}}),M)}function I(){var e,t,n;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=!1,t=D.a.mark((function t(){var n,a,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,Object(y.d)(z);case 3:return a=t.sent,t.next=6,Object(y.d)(C);case 6:return r=t.sent,a&&(e=a.links.prev.includes(S)),t.next=10,Object(y.c)(E(""));case 10:return t.next=12,Object(y.c)({type:"START_LOADING"});case 12:return t.prev=12,t.next=15,Object(y.a)([!a||e?Object(y.b)((function(){return A()})):Object(y.b)((function(){return A(a.links.next)})),Object(y.b)((function(){return A(r[0])})),Object(y.b)((function(){return A(r[1])}))]);case 15:n=t.sent,t.next=25;break;case 18:return t.prev=18,t.t0=t.catch(12),t.next=22,Object(y.c)({type:"FINISH_LOADING"});case 22:return t.next=24,Object(y.c)(E("Something went wrong: ".concat(t.t0)));case 24:return t.abrupt("return",{v:void 0});case 25:return t.next=27,Object(y.c)({type:"FINISH_LOADING"});case 27:return t.next=29,Object(y.c)({type:"ADD_NEO_DATA",neoData:n[0]});case 29:return t.next=31,Object(y.c)(l(n[1]));case 31:return t.next=33,Object(y.c)(l(n[2]));case 33:return t.next=35,Object(y.b)(L,5e3);case 35:case"end":return t.stop()}}),t,null,[[12,18]])}));case 2:return a.delegateYield(t(),"t0",4);case 4:if("object"!==typeof(n=a.t0)){a.next=7;break}return a.abrupt("return",n.v);case 7:a.next=2;break;case 9:case"end":return a.stop()}}),w)}function L(e){return new Promise((function(t){setTimeout((function(){return t(!0)}),e)}))}var R=function(e){return e.loading.isLoading},F=function(e){return e.errorMessage},G=function(e){return e.neoData},z=function(e){return e.neoData[e.neoData.length-1]},C=function(e){return e.neoData.filter((function(e){return 0!==e.near_earth_objects[Object.keys(e.near_earth_objects)[0]].filter((function(e){return e.is_potentially_hazardous_asteroid})).length})).sort((function(e,t){return t.near_earth_objects[Object.keys(t.near_earth_objects)[0]].filter((function(e){return e.is_potentially_hazardous_asteroid})).length-e.near_earth_objects[Object.keys(e.near_earth_objects)[0]].filter((function(e){return e.is_potentially_hazardous_asteroid})).length})).slice(0,2).map((function(e){return e.links.self}))},H=Object(O.a)(),P=Object(f.combineReducers)({loading:j,errorMessage:g,neoData:d}),J=Object(f.createStore)(P,Object(b.composeWithDevTools)(Object(f.applyMiddleware)(H)));H.run(T);var U=J,W=n(67),B=Object(_.a)((function(){return{root:{position:"absolute",width:"100%"}}})),Y=function(){var e=B();return r.a.createElement("div",{className:e.root},r.a.createElement(W.a,null))},q=n(32),K=n.n(q),Q=(n(48),function(e){var t=e.neo,n=e.isDangerous,c=t.near_earth_objects,s=t.element_count,o=Object.keys(c)[0],i=Object(a.useMemo)((function(){return Math.round(Math.min.apply(Math,Object(u.a)(c[o].map((function(e){return Number(e.close_approach_data[0].miss_distance.kilometers)})))))}),[c]),l=Object(a.useMemo)((function(){return Math.round(Math.max.apply(Math,Object(u.a)(c[o].map((function(e){return Number(e.close_approach_data[0].relative_velocity.kilometers_per_hour)})))))}),[c]),m=Object(a.useMemo)((function(){return Math.max.apply(Math,Object(u.a)(c[o].map((function(e){return Number(e.estimated_diameter.kilometers.estimated_diameter_max)})))).toFixed(3)}),[c]),d=Object(a.useMemo)((function(){return c[o].filter((function(e){return e.is_potentially_hazardous_asteroid})).length}),[c]);return r.a.createElement("li",{className:"neocard"},r.a.createElement("div",{className:K()("neocard__container",{dangerous:n})},r.a.createElement("div",{className:"neocard__info"},r.a.createElement("p",{className:"neocard__date"},o),r.a.createElement("p",{className:"neocard__neo-count"},s," neos")),r.a.createElement("div",{className:"neocard__parameters"},r.a.createElement("div",{className:"neocard__parameters-item"},r.a.createElement("p",null,"Nearest NEO"),r.a.createElement("p",null,i," km")),r.a.createElement("div",{className:"neocard__parameters-item"},r.a.createElement("p",null,"Fastest NEO"),r.a.createElement("p",null,l," km/h")),r.a.createElement("div",{className:"neocard__parameters-item"},r.a.createElement("p",null,"Potentially hazardous NEOs"),r.a.createElement("p",null,d," neo(s)")),r.a.createElement("div",{className:"neocard__parameters-item"},r.a.createElement("p",null,"Max estimated NEO diameter"),r.a.createElement("p",null,m," km")))))}),V=Object(_.a)((function(){return{root:{flexGrow:1,maxWidth:1240,marginTop:20,alignContent:"center"},card:{display:"flex",justifyContent:"center"}}})),X=function(){var e=Object(o.c)(G),t=Object(o.c)(R),n=Object(o.c)(F).errorMessage,c=Object(o.b)(),s=Object(o.c)(C),i=V();return Object(a.useEffect)((function(){c({type:"FETCH_NEO_DATA"})}),[c]),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Y,null),n.length>0&&r.a.createElement("div",{className:"error"},n),r.a.createElement(p.a,{container:!0,spacing:4,style:{width:"100%"},className:i.root},e.map((function(e){return r.a.createElement(p.a,{item:!0,xs:12,md:12,key:e.links.self,className:i.card},r.a.createElement(Q,{neo:e,key:e.links.self,isDangerous:s.includes(e.links.self)}))}))))};var Z=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("main",{className:"main"},r.a.createElement(X,null)))},$=r.a.createElement(o.a,{store:U},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)));s.a.render($,document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.04d17ab3.chunk.js.map